(this["webpackJsonpexcel-html"]=this["webpackJsonpexcel-html"]||[]).push([[0],{11:function(e,t){},23:function(e,t){},24:function(e,t){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var s=n(1),c=n.n(s),r=n(12),i=n.n(r),a=n(13),o=n(3),l=n(9),u=n(2),d=n.n(u),j=n(0),p=function(e){return d.a.enable((function(t){t&&console.log("WebMidi could not be enabled.",t),console.log(d.a.inputs),console.log(d.a.outputs);var n=d.a.getInputByName("LPK25 mk2"),s=d.a.getOutputByName("LPK25 mk2");e.setInput(n),e.setOutput(s)}),!0),Object(j.jsxs)("div",{children:[Object(j.jsx)("span",{children:"Input Port: "}),Object(j.jsx)("select",{className:"ports",onChange:function(e){return console.log(e)},children:d.a.inputs.map((function(e){return Object(j.jsx)("option",{children:e.name},e.id)}))}),Object(j.jsx)("span",{className:"output",children:"Output Port: "}),Object(j.jsx)("select",{className:"ports",children:d.a.outputs.map((function(e){return Object(j.jsx)("option",{children:e.name},e.id)}))})]})};n(26);var b=function(){var e=Object(s.useState)([]),t=Object(o.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(),i=Object(o.a)(r,2),u=i[0],d=i[1],b=Object(s.useState)(),x=Object(o.a)(b,2),h=x[0],O=x[1],f=Object(s.useState)(null),m=Object(o.a)(f,2),g=(m[0],m[1]),v=Object(s.useState)(),y=Object(o.a)(v,2);function N(e){u.addListener("sysex","all",(function(t){var s=Object(a.a)(t.data).map((function(e){return 2===(e=e.toString(16)+" ").length&&(e="0"+e),e.toUpperCase()}));g(s),function(e,t){t=t.join(""),console.log(t);var s=n.map((function(n){return n.index===e&&(n.result+=t),n}));console.log(s),c(s)}(e,s)}))}y[0],y[1];var S=function(e){console.log(e.target.id);var t=parseInt(e.target.id),s=n.filter((function(e){return e.index===t})).map((function(e){return e.sysex})).join(" ").split(" ");s.splice(0,1);var c=s.map((function(e){return e="0x"+e,parseInt(Number(e,10))}));console.log("sent:"),console.log(c),h.send(240,c),N(t)};return Object(j.jsxs)("div",{className:"container",children:[Object(j.jsxs)("div",{className:"utilities",children:[Object(j.jsx)("input",{type:"file",className:"file",onChange:function(e){!function(e){var t=new FileReader;t.readAsArrayBuffer(e),t.onload=function(e){for(var t=e.target.result,n=l.read(t,{type:"buffer"}).Sheets.Sysex,s=l.utils.sheet_to_json(n,{header:1}),r=[],i=/F0(.*?)F7/gm,a=0;a<s.length;a++)r.push({index:a,test:s[a][0],description:s[a][1],expected:s[a][2],sysex:null,result:""});for(var o=0;o<r.length;o++)console.log(r[o]),"string"===typeof r[o].description&&(r[o].sysex=r[o].description.match(i));for(var u=r.filter((function(e){return null!==e.sysex})),d=0;d<u.length;d++)u[d].index=d;c(u)}}(e.target.files[0])}}),Object(j.jsx)(p,{setInput:d,setOutput:O,input:u,output:h})]}),Object(j.jsxs)("table",{className:"table-container",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsx)("th",{children:"Test"}),Object(j.jsx)("th",{children:"Sysex"}),Object(j.jsx)("th",{children:"Expected"}),Object(j.jsx)("th",{children:"Result"})]})}),Object(j.jsx)("tbody",{children:n.map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.test}),Object(j.jsx)("td",{className:"description",children:e.description}),Object(j.jsx)("td",{className:"expected-container",children:Object(j.jsxs)("div",{className:"expected",children:[e.expected,Object(j.jsxs)("button",{className:"send-button",id:e.index,value:e.sysex,onClick:S,children:["test"," "]})]})}),Object(j.jsx)("td",{className:"results",children:e.result})]},e.index)}))})]})]})};i.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.4a9afb55.chunk.js.map